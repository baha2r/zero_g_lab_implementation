import numpy as np

# obs_ros = [-2.29375797e-06, -3.43405206e-08,  9.99982965e-01,  
#             2.36000470e+00,  1.56757913e+00, -2.35429163e+00,  
#             1.50146214e-11, -4.39421976e-12,  1.08545115e-10,  
#             1.83309294e-08,  5.86389060e-11,  1.83274094e-08,
#            -8.51611559e-01,  1.13710134e+00,  6.34402081e-01,  
#             0.00000000e+00,  0.00000000e+00,  0.00000000e+00, 
#            -8.51609265e-01,  1.13710137e+00, -3.65580883e-01, 
#            -1.12865993e+00, -3.13480506e+00, -4.47236140e-01,
#            -1.25356803e-20,  1.75499524e-19,  1.25356803e-20, 
#            -2.35670789e-17,  1.75499524e-19,  2.30155090e-17, 
#            -1.50146214e-11,  4.39421993e-12, -1.08545115e-10, 
#            -1.83309294e-08, -5.86389058e-11, -1.83274094e-08,
#            -7.01609265e-01, -9.85301370e-01, -2.85580883e-01]

# obs_sim = [-6.67914719e-06,  3.95167383e-08,  9.99950528e-01,  
#             2.72919846e+00,  6.25455528e-02, -1.26818132e+00, 
#             -6.37378017e-09, -3.10219903e-08, 6.71530387e-09,  
#             4.70193624e-01,  1.00000000e+02,  7.51834412e+01,
#            -8.51261497e-01,  1.13710129e+00,  6.34310961e-01,  
#             0.00000000e+00,  0.00000000e+00,  0.00000000e+00, 
#             -8.51254761e-01,  1.13710129e+00,-3.65639567e-01, 
#             -2.72919846e+00, -6.25455528e-02,  1.26818132e+00,
#             0.00000000e+00,  0.00000000e+00,  0.00000000e+00,  
#             0.00000000e+00,  0.00000000e+00,  0.00000000e+00,  
#             6.37378017e-09,  3.10219903e-08, -6.71530387e-09, 
#             -4.70193624e-01, -1.00000000e+02, -7.51834412e+01,
#             6.98134772e-01, -9.88740933e-01,  3.12786836e-01]


# # Calculate the absolute differences
# differences = np.abs(np.array(obs_ros) - np.array(obs_sim))

# # Identify the index with the largest difference
# max_difference_index = np.argmax(differences)
# max_difference_value = differences[max_difference_index]

# # Display the index and value of the largest difference
# print(f"The largest difference is at index {max_difference_index} with a value of {max_difference_value:.6e}")

# # indentify the index with the next largest difference
# differences[max_difference_index] = 0
# second_max_difference_index = np.argmax(differences)
# second_max_difference_value = differences[second_max_difference_index]

# # Display the index and value of the second largest difference
# print(f"The second largest difference is at index {second_max_difference_index} with a value of {second_max_difference_value:.6e}")

# #Identify the index with the third largest difference
# differences[second_max_difference_index] = 0
# third_max_difference_index = np.argmax(differences)
# third_max_difference_value = differences[third_max_difference_index]

# # Display the index and value of the third largest difference
# print(f"The third largest difference is at index {third_max_difference_index} with a value of {third_max_difference_value:.6e}")

# Optionally, print the differences array
# print("Differences array:", differences)

# sim


# obs:  [ 1.90866878e-03 -1.34296417e-02  1.02573013e+00  2.72922182e+00
#   6.25429451e-02 -1.26818073e+00  1.50162762e-08  7.35823757e-09
#   6.14660189e-09 -2.53303174e-08  2.35070470e-08  1.43268863e-09
#  -8.51256490e-01  9.05025244e-01  6.34342730e-01  0.00000000e+00
#   0.00000000e+00  0.00000000e+00 -8.53165150e-01  9.18454885e-01
#  -3.91387373e-01 -2.72922182e+00 -6.25429451e-02  1.26818073e+00
#   0.00000000e+00  0.00000000e+00  0.00000000e+00  0.00000000e+00
#   0.00000000e+00  0.00000000e+00 -1.50162762e-08 -7.35823757e-09
#  -6.14660189e-09  2.53303174e-08 -2.35070470e-08 -1.43268863e-09
#   6.99121936e-01 -7.71817200e-01  3.35611838e-01]
obs = [1.90866878e-03, -1.34296417e-02, 1.02573013e+00, 2.72922182e+00,
        6.25429451e-02, -1.26818073e+00, 1.50162762e-08, 7.35823757e-09,
        6.14660189e-09, -2.53303174e-08, 2.35070470e-08, 1.43268863e-09,
        -8.51256490e-01, 9.05025244e-01, 6.34342730e-01, 0.00000000e+00,
        0.00000000e+00, 0.00000000e+00, -8.53165150e-01, 9.18454885e-01,
        -3.91387373e-01, -2.72922182e+00, -6.25429451e-02, 1.26818073e+00,
        0.00000000e+00,  0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
        0.00000000e+00,  0.00000000e+00, -1.50162762e-08, -7.35823757e-09,
        -6.14660189e-09,  2.53303174e-08, -2.35070470e-08, -1.43268863e-09,
        6.99121936e-01, -7.71817200e-01,  3.35611838e-01]

action_obs = [ 6.41040373e-05, -6.77707009e-04,  1.00003136e+00,  0.00000000e+00,
  1.57079633e+00,  1.56661845e+00,  7.95440513e-09,  2.42174050e-08,
  8.89410030e-08,  2.23784098e-05,  6.59085471e-08,  2.23955201e-05,
 -8.51256461e-01,  9.05025227e-01,  6.34342717e-01,  0.00000000e+00,
  0.00000000e+00,  0.00000000e+00, -8.51320565e-01,  9.05702934e-01,
 -3.65688642e-01,  0.00000000e+00, -3.14159265e+00, -6.28176166e+00,
  4.44089210e-16,  0.00000000e+00,  0.00000000e+00, -9.55679980e-13,
  3.55271368e-15,  6.73239242e-13, -7.95440469e-09 ,-2.42174050e-08,
 -8.89410030e-08, -2.23784107e-05, -6.59085435e-08, -2.23955194e-05,
  7.01320565e-01, -7.53902934e-01,  2.85688642e-01]

# replace 0 if the value is less than 1e-3
obs = [0 if abs(val) < 1e-3 else val for val in obs]
action_obs = [0 if abs(val) < 1e-3 else val for val in action_obs]
print(obs)
print(action_obs)
diff = np.array(obs) - np.array(action_obs)
idff = [0 if abs(val) < 1e-3 else val for val in diff]
print(idff)



# Observation: [-0.00756265  0.00738382  0.99856347 -0.07981871  1.1780926  
#               -0.02447107 -0.47041616  0.44507092 -0.13744281 -1.93265402 
#               -4.69677067  2.92379427 -0.85125649  0.90502524  0.63434273 
#               0.          0.          0.           -0.84369379  0.89764142 
#               -0.36422074  0.07981871 -1.1780926   0.02447107
#               0.          0.          0.          0.          0.          0.
#               0.47041616 -0.44507092  0.13744281  1.93265402  4.69677067 -2.92379427
#             0.69421538 -0.74969593  0.31487266]

# Observation: [ 2.00481238e-06  5.12060039e-09  1.00001487e+00  0.00000000e+00
#   1.23731041e+00  0.00000000e+00 -1.07935345e+00  1.12972009e+00
#   8.47519100e-01 -1.85531123e+00 -9.80862997e+00 -9.38746820e+00
#  -8.51320259e-01  9.05698614e-01  6.34308320e-01  0.00000000e+00
#   0.00000000e+00  0.00000000e+00 -8.51322264e-01  9.05698608e-01
#  -3.65706549e-01  0.00000000e+00 -3.14159265e+00 -6.28178160e+00
#  -1.33226763e-15 -7.99360578e-15  8.88178420e-16  4.01723099e-12
#   0.00000000e+00 -3.87778698e-12 -9.64286425e-06 -3.08640243e-07
#  -7.17201372e-05 -1.21634277e-02 -3.87587764e-05 -1.21636182e-02
#   7.01322264e-01 -7.53898608e-01  2.85706549e-01]